<!-- templates/base.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Bridge Collapse Prediction{% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body class="light-mode"> <!-- Default to light mode -->

    <!-- Navbar -->
    <div class="navbar">
        <div class="nav-links">
            <a href="{{ url_for('home') }}">SS</a>
            <a href="{{ url_for('home') }}">Home</a>
            <a href="{{ url_for('map') }}">Map</a>
            <a href="{{ url_for('about') }}">About</a>
        </div>
        <!-- Dark Mode Toggle Button -->
        <div class="toggle-container">
            <label class="switch">
                <input type="checkbox" id="mode-toggle" onclick="toggleMode()">
                <span class="slider"></span>
            </label>
        </div>
    </div>

    <!-- Page content -->
    <div class="content">
        {% block content %}{% endblock %}
    </div>

    <!-- JavaScript for Mode Toggle -->
    <script>
        function toggleMode() {
            const body = document.body;
            const toggle = document.getElementById('mode-toggle');

            if (toggle.checked) {
                body.classList.replace('light-mode', 'dark-mode');
                localStorage.setItem('theme', 'dark-mode');
            } else {
                body.classList.replace('dark-mode', 'light-mode');
                localStorage.setItem('theme', 'light-mode');
            }
        }

        // Load saved theme preference
        (function() {
            const savedTheme = localStorage.getItem('theme');
            const toggle = document.getElementById('mode-toggle');

            if (savedTheme === 'dark-mode') {
                document.body.className = 'dark-mode';
                toggle.checked = true;
            }
        })();
    </script>
</body>
</html>
